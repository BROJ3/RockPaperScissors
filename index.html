<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS</title>
</head>

<body>

    <h1>If anyone wants to play</h1>

    <h2>You'll have to open up the console and run "igraj()"</h2>
    <h2>After that, have fun :)))</h2>



    <p>Currently in construction</p>
    <h3>Objectives</h3>
    <ul>
        <li>Push any button to start game - jesam</li>
        <li>Tie button correctly to choice - jesam</li>
        <li>Add div that displays the result and score - jesam</li>
        <li>add 5 rounds</li>
        
    </ul>

    <div class="results"></div>
    <div class="scores"></div>


    <button class="choiceButton" id="rock">Rock</button>
    <button class="choiceButton" id="paper">Paper</button>
    <button class="choiceButton" id="scissors">Scissors</button>

    <script>

            const btnR = document.querySelector("#rock");
            const btnP = document.querySelector("#paper");
            const btnS = document.querySelector("#scissors");

            const resultsDiv = document.querySelector('.results');
            const scoreKeeping = document.querySelector('.scores');

            

            btnR.onclick = () => igraj('Rock');
            btnP.onclick = () => igraj('Paper');
            btnS.onclick = () => igraj('Scissors');


            //btn.onclick = () => alert("Button text: " + btn.textContent);

            // Function to update scores
            function updateScores(event) {
                var myScore = 0;
                var AIScore = 0;
                var buttonText = event.target.textContent;
                //alert("Button text: " + buttonText);
            }

            // Get all buttons with class 'myButton'
            var buttons = document.querySelectorAll('.choiceButton');

            // Loop through each button and add event listener
            buttons.forEach(function(button) {
                button.addEventListener('click', updateScores);
            });

            let me = 0;
            let AI = 0;

        function playRound(playerSelection, computerSelection) {

            me = 0;
            AI=0;


            //game logic
            //get answers from player and computer
            mojIzbor = igraj.arguments[0];
            computerChoice = getComputerChoice();

            console.log("You played: ", mojIzbor);
            console.log("Advanced AI machine played: ", computerChoice);

            //begin tryout zone

            if ((mojIzbor[0] === 'R' && computerChoice === 'Scissors') ||
                (mojIzbor[0] === 'P' && computerChoice === 'Rock')||
                (mojIzbor[0] === 'S' && computerChoice === 'Paper')) {
                me = me+1
                console.log("You win!")
                resultsDiv.textContent = 'You Win!'; 
                scoreKeeping.textContent = "You: "+ me + " || "+ "Computer: "+AI; 
            } else if ( mojIzbor[0] === computerChoice [0]) {

                me = me+0.5;
                AI = AI + 0.5;

                console.log("it's a tie!") 
                resultsDiv.textContent = "it's a tie!"; 
                scoreKeeping.textContent = "You: "+ me + " || "+ "Computer: "+AI; 

            } else {
                AI = AI + 1;

                console.log("You lose!")
                resultsDiv.textContent = "You lose!"; 
                scoreKeeping.textContent = "You: "+ me + " || "+ "Computer: "+AI; 
            }
            


        }


        //choose rock, paper, or scissors, by random
        function getComputerChoice() {
            //define a list of choices
            let list = ["Rock", "Paper", "Scissors"];
            //randomly generate a number 0 to 3, that corresponds to a list item
            return list[Math.ceil((Math.random() * 3) - 1)];
        }


        const computerSelection = getComputerChoice();

        function igraj(izbor) {


            for (let i = 0; i < 5; i++) {
                console.log("ALO")
                //console.log(playRound(izbor, computerSelection));
                playRound(izbor, computerSelection);
            }
            


            

            console.log("Me: ", me)
            console.log("AI: ", AI)
            
        

            if (me > AI) {
                    console.log("Congradulations!")
                } else if (AI > me) {
                    console.log("AI advances are beyond human comprehension...")
                } else {
                    console.log("Intense Draw!")
                }

        }

    </script>

    



</body>

</html>